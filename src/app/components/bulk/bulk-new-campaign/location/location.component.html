
<div class="expansion-panel-content" > 
    <mat-form-field class="form-field" appearance="fill" style="flex: 1 0 100%">
        <mat-label>Search for a location</mat-label>
        <input matInput type="text" [(ngModel)]="value" (ngModelChange)="value=$event">
        <button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
        <mat-icon>close</mat-icon>
        </button>
    </mat-form-field>      

    <mat-form-field appearance="fill" class="one-third">
        <mat-label>Governorate</mat-label>
        <mat-select [formControl]="governorates" multiple>
        <mat-select-trigger>
            {{governorates.value?.[0] || ''}}
            <span *ngIf="(governorates.value?.length || 0) > 1" class="additional-selection">
            (+{{(governorates.value?.length || 0) - 1}} {{governorates.value?.length === 2 ? 'other' : 'others'}})
            </span>
        </mat-select-trigger>
        <mat-option *ngFor="let governorate of governorateList | locationSearch: value " [value]="governorate">{{governorate}}</mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill" class="one-third">
        <mat-label>Admin Section</mat-label>
        <mat-select [formControl]="adminSections" multiple>
        <mat-select-trigger>
            {{adminSections.value?.[0] || ''}}
            <span *ngIf="(adminSections.value?.length || 0) > 1" class="additional-selection">
            (+{{(adminSections.value?.length || 0) - 1}} {{adminSections.value?.length === 2 ? 'other' : 'others'}})
            </span>
        </mat-select-trigger>
        <mat-option *ngFor="let adminSection of adminSectionList |  locationSearch: value " [value]="adminSection">{{adminSection}}</mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill" class="last-item">
        <mat-label>Sheiakha</mat-label>
        <mat-select [formControl]="sheiakhas" multiple>
        <mat-select-trigger>
            {{sheiakhas.value?.[0] || ''}}
            <span *ngIf="(sheiakhas.value?.length || 0) > 1" class="additional-selection">
            (+{{(sheiakhas.value?.length || 0) - 1}} {{sheiakhas.value?.length === 2 ? 'other' : 'others'}})
            </span>
        </mat-select-trigger>
        <mat-option *ngFor="let sheiakha of sheiakhaList | locationSearch: value" [value]="sheiakha">{{sheiakha}}</mat-option>
        </mat-select>
    </mat-form-field>
</div>
